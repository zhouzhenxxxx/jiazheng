{"remainingRequest":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/babel-loader/lib/index.js!/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhenzhou/briup1/7vue/waiterApp/src/pages/Manager/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/src/pages/Manager/Home.vue","mtime":1572792488000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js","mtime":1571391164000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/babel-loader/lib/index.js","mtime":1571390905000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js","mtime":1571391164000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/vue-loader/lib/index.js","mtime":1571391244000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy96aGVuemhvdS9icml1cDEvN3Z1ZS93YWl0ZXJBcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmluZFdhaXRlck9yZGVycygpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCJvcmRlciIsIFsib3JkZXJzIl0pLCB7fSwgbWFwR2V0dGVycygib3JkZXIiLCBbIm9yZGVyU3RhdHVzRmlsdGVyIl0pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKCJvcmRlciIsIFsiZmluZFdhaXRlck9yZGVycyIsICJyZWplY3RPcmRlciIsICJhY2NlcHRPcmRlciJdKSwgewogICAgYWNjZXB0SGFuZGxlcjogZnVuY3Rpb24gYWNjZXB0SGFuZGxlcihvcmRlcklkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmFjY2VwdE9yZGVyKG9yZGVySWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuJHRvYXN0KHJlc3BvbnNlLnN0YXR1c1RleHQpOwogICAgICB9KTsKICAgIH0sCiAgICByZWplY3RIYW5kbGVyOiBmdW5jdGlvbiByZWplY3RIYW5kbGVyKG9yZGVySWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnJlamVjdE9yZGVyKG9yZGVySWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLiR0b2FzdChyZXNwb25zZS5zdGF0dXNUZXh0KTsKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,QAAA,EAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,OADA,qBACA;AACA,SAAA,gBAAA;AACA,GAHA;AAIA,EAAA,QAAA,oBACA,QAAA,CAAA,OAAA,EAAA,CAAA,QAAA,CAAA,CADA,MAEA,UAAA,CAAA,OAAA,EAAA,CAAA,mBAAA,CAAA,CAFA,CAJA;AAQA,EAAA,OAAA,oBACA,UAAA,CAAA,OAAA,EAAA,CAAA,kBAAA,EAAA,aAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,aAFA,yBAEA,OAFA,EAEA;AAAA;;AACA,WAAA,WAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA;AACA,OAHA;AAIA,KAPA;AAQA,IAAA,aARA,yBAQA,OARA,EAQA;AAAA;;AACA,WAAA,WAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA;AACA,OAHA;AAIA;AAbA;AARA,CAAA","sourcesContent":["<template>\n    <div class=\"home\">\n        <van-row>\n            <img style=\"width:100%\" src=\"../../assets/images/photo1.jpg\" alt=\"\">\n        </van-row>\n        <!-- copy -->\n        <van-row v-if=\"orderStatusFilter('待接单').length>0\">\n        <van-panel :title=\"o.customer.realname\" :status=\"o.status\" v-for=\"o in orderStatusFilter('待接单')\" :key=\"o.id\">\n            <van-row>\n            <van-col :span=\"4\" style=\"text-align:center\"><van-icon name=\"gem-o\" /></van-col>\n            <van-col :span=\"20\">总额： {{o.total}}</van-col>\n            </van-row>\n            <van-row>\n            <van-col :span=\"4\" style=\"text-align:center\"><van-icon name=\"clock-o\" /></van-col>\n            <van-col :span=\"20\">下单时间：{{o.orderTime}}</van-col>\n            </van-row>\n            <van-row>\n            <van-col :span=\"4\" style=\"text-align:center\"><van-icon name=\"clock-o\" /></van-col>\n            <van-col :span=\"20\">服务内容：{{}}</van-col>\n            </van-row>\n            <van-row>\n            <van-col :span=\"4\" style=\"text-align:center\"><van-icon name=\"location-o\" /></van-col>\n            <van-col :span=\"20\">地址： {{o.address.province+\" \"+o.address.city+\" \"+o.address.area}}</van-col>\n            </van-row>\n            \n            <div slot=\"footer\" style=\"text-align:right\">\n            <van-button size=\"small\" type=\"warning\" plain @click=\"rejectHandler(o.id)\">拒绝</van-button>&nbsp;\n            <van-button size=\"small\" type=\"primary\" plain @click=\"acceptHandler(o.id)\">接受</van-button> \n            </div>\n        </van-panel>\n        </van-row>\n        <van-row v-else>\n            <p class=\"top\">暂时没有订单，再等等吧亲</p>\n            <img class=\"two\" src=\"@/assets/images/photo3.jpg\" alt=\"\">\n            <p class=\"bottom\">乖巧加载.jpg</p>\n        </van-row>\n    </div>\n</template>\n<script>\n    import {mapState,mapActions,mapGetters} from 'vuex'\n    export default {\n    created(){\n        this.findWaiterOrders();\n    },\n    computed:{\n        ...mapState(\"order\",[\"orders\"]),\n        ...mapGetters(\"order\",[\"orderStatusFilter\"])\n    },\n    methods:{\n        ...mapActions(\"order\",[\"findWaiterOrders\",\"rejectOrder\",\"acceptOrder\"]),\n        acceptHandler(orderId){\n        this.acceptOrder(orderId)\n        .then((response)=>{\n            this.$toast(response.statusText);\n        })\n        },\n        rejectHandler(orderId){\n        this.rejectOrder(orderId)\n        .then((response)=>{\n            this.$toast(response.statusText);\n        })\n        }\n    }\n    }\n    </script>\n    <style scoped>\n    .home {\n        padding-bottom: 60px;\n    }\n    .top{\n        border-top:1px solid #ccc;\n        padding-top:50px;\n        padding-bottom:20px;\n        text-align: center\n    }\n    .bottom{\n        padding-bottom:30px;\n        text-align: center\n    }\n    .two{\n        padding-left:75px;\n        width:150px;\n        height:140px\n    }\n    </style>"],"sourceRoot":"src/pages/Manager"}]}
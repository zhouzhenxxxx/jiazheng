{"remainingRequest":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/thread-loader/dist/cjs.js!/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/babel-loader/lib/index.js!/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhenzhou/briup1/7vue/waiterApp/src/pages/Manager/Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/src/pages/Manager/Order.vue","mtime":1572542654000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js","mtime":1571391164000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/thread-loader/dist/cjs.js","mtime":1571391184000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/babel-loader/lib/index.js","mtime":1571390905000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js","mtime":1571391164000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/vue-loader/lib/index.js","mtime":1571391244000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy96aGVuemhvdS9icml1cDEvN3Z1ZS93YWl0ZXJBcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZTogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZpbmRXYWl0ZXJPcmRlcnMoKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgib3JkZXIiLCBbIm9yZGVycyJdKSwge30sIG1hcFN0YXRlKCJ1c2VyIiwgWyJ1c2VyaW5mbyJdKSwge30sIG1hcEdldHRlcnMoIm9yZGVyIiwgWyJvcmRlclN0YXR1c0ZpbHRlciJdKSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygib3JkZXIiLCBbImZpbmRXYWl0ZXJPcmRlcnMiLCAicmVqZWN0T3JkZXIiLCAiYWNjZXB0T3JkZXIiLCAiY29tcGxldGVPcmRlciJdKSwgewogICAgYWNjZXB0SGFuZGxlcjogZnVuY3Rpb24gYWNjZXB0SGFuZGxlcihvcmRlcklkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmFjY2VwdE9yZGVyKG9yZGVySWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuJHRvYXN0KHJlc3BvbnNlLnN0YXR1c1RleHQpOwogICAgICB9KTsKICAgIH0sCiAgICByZWplY3RIYW5kbGVyOiBmdW5jdGlvbiByZWplY3RIYW5kbGVyKG9yZGVySWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnJlamVjdE9yZGVyKG9yZGVySWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLiR0b2FzdChyZXNwb25zZS5zdGF0dXNUZXh0KTsKICAgICAgfSk7CiAgICB9LAogICAgY29tcGxldGVIYW5kbGVyOiBmdW5jdGlvbiBjb21wbGV0ZUhhbmRsZXIob3JkZXJJZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuY29tcGxldGVPcmRlcihvcmRlcklkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy4kdG9hc3QocmVzcG9uc2Uuc3RhdHVzVGV4dCk7CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAAA,QAAA,EAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OANA,qBAMA;AACA,SAAA,gBAAA;AACA,GARA;AASA,EAAA,QAAA,oBACA,QAAA,CAAA,OAAA,EAAA,CAAA,QAAA,CAAA,CADA,MAEA,QAAA,CAAA,MAAA,EAAA,CAAA,UAAA,CAAA,CAFA,MAGA,UAAA,CAAA,OAAA,EAAA,CAAA,mBAAA,CAAA,CAHA,CATA;AAcA,EAAA,OAAA,oBACA,UAAA,CAAA,OAAA,EAAA,CAAA,kBAAA,EAAA,aAAA,EAAA,aAAA,EAAA,eAAA,CAAA,CADA;AAEA,IAAA,aAFA,yBAEA,OAFA,EAEA;AAAA;;AACA,WAAA,WAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA;AACA,OAHA;AAIA,KAPA;AAQA,IAAA,aARA,yBAQA,OARA,EAQA;AAAA;;AACA,WAAA,WAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA;AACA,OAHA;AAIA,KAbA;AAcA,IAAA,eAdA,2BAcA,OAdA,EAcA;AAAA;;AACA,WAAA,aAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA;AACA,OAHA;AAIA;AAnBA;AAdA,CAAA","sourcesContent":["<template>\n  <div class=\"order\">\n    <van-nav-bar title=\"订单\"/>\n    <van-tabs v-model=\"active\">\n      <van-tab title=\"所有订单\">\n        <briup-order-pane \n          :data=\"orders\" \n          @accept=\"acceptHandler\"\n          @reject=\"rejectHandler\"\n          @complete=\"completeHandler\"></briup-order-pane>\n      </van-tab>\n      <van-tab title=\"未接订单\">\n        <briup-order-pane \n          :data=\"orderStatusFilter('待接单')\"\n          @accept=\"acceptHandler\"\n          @reject=\"rejectHandler\"></briup-order-pane>\n      </van-tab>\n      <van-tab title=\"已接订单\">\n        <briup-order-pane \n          :data=\"orderStatusFilter('待服务')\"\n          @complete=\"completeHandler\"></briup-order-pane>\n      </van-tab>\n      <van-tab title=\"待确认\">\n        <briup-order-pane \n          :data=\"orderStatusFilter('待确认')\"></briup-order-pane>\n      </van-tab>\n      <van-tab title=\"完成订单\">\n        <briup-order-pane :data=\"orderStatusFilter('已完成')\"></briup-order-pane>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n<script>\nimport {mapState,mapActions,mapGetters} from 'vuex'\nexport default {\n  data() {\n    return {\n      active: 0\n    };\n  },\n  created(){\n    this.findWaiterOrders();\n  },\n  computed:{\n    ...mapState(\"order\",[\"orders\"]),\n    ...mapState(\"user\",[\"userinfo\"]),\n    ...mapGetters(\"order\",[\"orderStatusFilter\"])\n  },\n  methods:{\n    ...mapActions(\"order\",[\"findWaiterOrders\",\"rejectOrder\",\"acceptOrder\",\"completeOrder\"]),\n    acceptHandler(orderId){\n       this.acceptOrder(orderId)\n      .then((response)=>{\n        this.$toast(response.statusText);\n      })\n    },\n    rejectHandler(orderId){\n      this.rejectOrder(orderId)\n      .then((response)=>{\n        this.$toast(response.statusText);\n      })\n    },\n    completeHandler(orderId){\n      this.completeOrder(orderId)\n      .then((response)=>{\n        this.$toast(response.statusText);\n      })\n    }\n  }\n}\n</script>"],"sourceRoot":"src/pages/Manager"}]}
{"remainingRequest":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/babel-loader/lib/index.js!/Users/zhenzhou/briup1/7vue/waiterApp/src/router/index.js","dependencies":[{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/src/router/index.js","mtime":1572789596000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js","mtime":1571391164000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/babel-loader/lib/index.js","mtime":1571390905000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IE1hbmFnZXIgZnJvbSAiLi4vcGFnZXMvTWFuYWdlci9MYXlvdXQudnVlIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JzsKaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICIuLi91dGlscy9hdXRoIjsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ01hbmFnZXInLAogIHJlZGlyZWN0OiAnL2hvbWUnLAogIGNvbXBvbmVudDogTWFuYWdlciwKICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciB0b2tlbiA9IGdldFRva2VuKCk7CgogICAgaWYgKHRva2VuKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldFVzZXJJbmZvJywgdG9rZW4pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIG5leHQoKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBUb2FzdCgnVG9rZW7lpLHmlYgnKTsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgfSk7CiAgICB9CiAgfSwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICdob21lJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi9wYWdlcy9NYW5hZ2VyL0hvbWUudnVlIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ29yZGVyJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi9wYWdlcy9NYW5hZ2VyL09yZGVyLnZ1ZSIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICd1c2VyJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi9wYWdlcy9NYW5hZ2VyL1VzZXIudnVlIik7CiAgICB9CiAgfV0KfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdsb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi9wYWdlcy9Mb2dpbi52dWUiKTsKICB9Cn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgLy8gbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/zhenzhou/briup1/7vue/waiterApp/src/router/index.js"],"names":["Vue","VueRouter","Manager","store","Toast","getToken","use","routes","path","name","redirect","component","beforeEnter","to","from","next","token","dispatch","then","children","router","base","process","env","BASE_URL"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP;AACA,OAAOC,KAAP;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,SAAQC,QAAR;AAEAL,GAAG,CAACM,GAAJ,CAAQL,SAAR;AAEA,IAAMM,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,QAAQ,EAAC,OAHX;AAIEC,EAAAA,SAAS,EAAET,OAJb;AAKEU,EAAAA,WAAW,EAAC,qBAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAgB;AAC1B,QAAIC,KAAK,GAACX,QAAQ,EAAlB;;AACE,QAAGW,KAAH,EAAS;AACPb,MAAAA,KAAK,CAACc,QAAN,CAAe,kBAAf,EAAkCD,KAAlC,EACCE,IADD,CACM,YAAI;AACRH,QAAAA,IAAI;AACL,OAHD;AAID,KALD,MAKK;AACHX,MAAAA,KAAK,CAAC,SAAD,CAAL;AACAW,MAAAA,IAAI,CAAC;AAACP,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAJ;AACD;AACJ,GAhBH;AAiBEW,EAAAA,QAAQ,EAAC,CAAC;AACRX,IAAAA,IAAI,EAAC,MADG;AAERG,IAAAA,SAAS,EAAC;AAAA,aAAM,mCAAN;AAAA;AAFF,GAAD,EAGP;AACAH,IAAAA,IAAI,EAAC,OADL;AAEAG,IAAAA,SAAS,EAAC;AAAA,aAAM,oCAAN;AAAA;AAFV,GAHO,EAMP;AACAH,IAAAA,IAAI,EAAC,MADL;AAEAG,IAAAA,SAAS,EAAC;AAAA,aAAM,mCAAN;AAAA;AAFV,GANO;AAjBX,CADa,EA6Bb;AACEH,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEE,EAAAA,SAAS,EAAE;AAAA,WAAM,4BAAN;AAAA;AAHb,CA7Ba,CAAf;AAoCA,IAAMS,MAAM,GAAG,IAAInB,SAAJ,CAAc;AAC3B;AACAoB,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BjB,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMA,eAAea,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Manager from '../pages/Manager/Layout.vue'\nimport store from '../store'\nimport { Toast } from 'vant'\nimport {getToken} from '../utils/auth'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Manager',\n    redirect:'/home',\n    component: Manager,\n    beforeEnter:(to,from,next)=>{\n      let token=getToken();\n        if(token){\n          store.dispatch('user/getUserInfo',token)\n          .then(()=>{\n            next();\n          })\n        }else{\n          Toast('Token失效')\n          next({path:'/login'})\n        }\n    },\n    children:[{\n      path:'home',\n      component:() => import('../pages/Manager/Home.vue')\n    },{\n      path:'order',\n      component:() => import('../pages/Manager/Order.vue')\n    },{\n      path:'user',\n      component:() => import('../pages/Manager/User.vue')\n    }]\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: () => import('../pages/Login.vue')\n  }\n]\n\nconst router = new VueRouter({\n  // mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n"]}]}
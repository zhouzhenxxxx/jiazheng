{"remainingRequest":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhenzhou/briup1/7vue/waiterApp/src/pages/Manager/Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/src/pages/Manager/Order.vue","mtime":1572542654000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js","mtime":1571391164000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/thread-loader/dist/cjs.js","mtime":1571391184000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/babel-loader/lib/index.js","mtime":1571390905000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/cache-loader/dist/cjs.js","mtime":1571391164000},{"path":"/Users/zhenzhou/briup1/7vue/waiterApp/node_modules/vue-loader/lib/index.js","mtime":1571391244000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGUsbWFwQWN0aW9ucyxtYXBHZXR0ZXJzfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZTogMAogICAgfTsKICB9LAogIGNyZWF0ZWQoKXsKICAgIHRoaXMuZmluZFdhaXRlck9yZGVycygpOwogIH0sCiAgY29tcHV0ZWQ6ewogICAgLi4ubWFwU3RhdGUoIm9yZGVyIixbIm9yZGVycyJdKSwKICAgIC4uLm1hcFN0YXRlKCJ1c2VyIixbInVzZXJpbmZvIl0pLAogICAgLi4ubWFwR2V0dGVycygib3JkZXIiLFsib3JkZXJTdGF0dXNGaWx0ZXIiXSkKICB9LAogIG1ldGhvZHM6ewogICAgLi4ubWFwQWN0aW9ucygib3JkZXIiLFsiZmluZFdhaXRlck9yZGVycyIsInJlamVjdE9yZGVyIiwiYWNjZXB0T3JkZXIiLCJjb21wbGV0ZU9yZGVyIl0pLAogICAgYWNjZXB0SGFuZGxlcihvcmRlcklkKXsKICAgICAgIHRoaXMuYWNjZXB0T3JkZXIob3JkZXJJZCkKICAgICAgLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgIHRoaXMuJHRvYXN0KHJlc3BvbnNlLnN0YXR1c1RleHQpOwogICAgICB9KQogICAgfSwKICAgIHJlamVjdEhhbmRsZXIob3JkZXJJZCl7CiAgICAgIHRoaXMucmVqZWN0T3JkZXIob3JkZXJJZCkKICAgICAgLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgIHRoaXMuJHRvYXN0KHJlc3BvbnNlLnN0YXR1c1RleHQpOwogICAgICB9KQogICAgfSwKICAgIGNvbXBsZXRlSGFuZGxlcihvcmRlcklkKXsKICAgICAgdGhpcy5jb21wbGV0ZU9yZGVyKG9yZGVySWQpCiAgICAgIC50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICB0aGlzLiR0b2FzdChyZXNwb25zZS5zdGF0dXNUZXh0KTsKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/pages/Manager","sourcesContent":["<template>\n  <div class=\"order\">\n    <van-nav-bar title=\"订单\"/>\n    <van-tabs v-model=\"active\">\n      <van-tab title=\"所有订单\">\n        <briup-order-pane \n          :data=\"orders\" \n          @accept=\"acceptHandler\"\n          @reject=\"rejectHandler\"\n          @complete=\"completeHandler\"></briup-order-pane>\n      </van-tab>\n      <van-tab title=\"未接订单\">\n        <briup-order-pane \n          :data=\"orderStatusFilter('待接单')\"\n          @accept=\"acceptHandler\"\n          @reject=\"rejectHandler\"></briup-order-pane>\n      </van-tab>\n      <van-tab title=\"已接订单\">\n        <briup-order-pane \n          :data=\"orderStatusFilter('待服务')\"\n          @complete=\"completeHandler\"></briup-order-pane>\n      </van-tab>\n      <van-tab title=\"待确认\">\n        <briup-order-pane \n          :data=\"orderStatusFilter('待确认')\"></briup-order-pane>\n      </van-tab>\n      <van-tab title=\"完成订单\">\n        <briup-order-pane :data=\"orderStatusFilter('已完成')\"></briup-order-pane>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n<script>\nimport {mapState,mapActions,mapGetters} from 'vuex'\nexport default {\n  data() {\n    return {\n      active: 0\n    };\n  },\n  created(){\n    this.findWaiterOrders();\n  },\n  computed:{\n    ...mapState(\"order\",[\"orders\"]),\n    ...mapState(\"user\",[\"userinfo\"]),\n    ...mapGetters(\"order\",[\"orderStatusFilter\"])\n  },\n  methods:{\n    ...mapActions(\"order\",[\"findWaiterOrders\",\"rejectOrder\",\"acceptOrder\",\"completeOrder\"]),\n    acceptHandler(orderId){\n       this.acceptOrder(orderId)\n      .then((response)=>{\n        this.$toast(response.statusText);\n      })\n    },\n    rejectHandler(orderId){\n      this.rejectOrder(orderId)\n      .then((response)=>{\n        this.$toast(response.statusText);\n      })\n    },\n    completeHandler(orderId){\n      this.completeOrder(orderId)\n      .then((response)=>{\n        this.$toast(response.statusText);\n      })\n    }\n  }\n}\n</script>"]}]}